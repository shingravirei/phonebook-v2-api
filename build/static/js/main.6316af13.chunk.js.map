{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Alert.js","services/persons.js","App.js","index.js"],"names":["Filter","handleFilter","onChange","placeholder","PersonForm","handleNameChange","handleNumberChange","newName","newNumber","addPerson","onSubmit","htmlFor","id","value","type","Person","name","number","handleRemovePerson","onClick","Persons","persons","filter","person","toLowerCase","includes","map","key","Alert","message","className","baseUrl","getAll","axios","get","then","reponse","data","App","useState","setPersons","setNewName","setNewNumber","setFilter","success","setSuccess","error","setError","useEffect","event","target","newPerson","updatedPerson","preventDefault","window","confirm","put","response","returnedPerson","catch","setTimeout","post","concat","length","delete","remove","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6316af13.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ handleFilter }) => (\r\n    <>\r\n        <input onChange={handleFilter} placeholder={'filter'} />\r\n    </>\r\n);\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({\r\n    handleNameChange,\r\n    handleNumberChange,\r\n    newName,\r\n    newNumber,\r\n    addPerson\r\n}) => {\r\n    return (\r\n        <>\r\n            <h2>Add New Person</h2>\r\n            <form onSubmit={addPerson}>\r\n                <div>\r\n                    <label htmlFor=\"name\">Name: </label>\r\n                    <input\r\n                        id={'name'}\r\n                        value={newName}\r\n                        onChange={handleNameChange}\r\n                    />\r\n                    <br />\r\n                    <label htmlFor={'number'}>Number: </label>\r\n                    <input\r\n                        id={'number'}\r\n                        value={newNumber}\r\n                        onChange={handleNumberChange}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n            <h2>Numbers</h2>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Person = ({ name, number, id, handleRemovePerson }) => {\r\n    return (\r\n        <p>\r\n            {name}: {number}{' '}\r\n            <button onClick={handleRemovePerson(id, name)}>delete</button>\r\n        </p>\r\n    );\r\n};\r\n\r\nexport default Person;\r\n","import React from 'react';\r\n\r\nimport Person from './Person';\r\n\r\nconst Persons = ({ persons, filter, handleRemovePerson }) => {\r\n    const filteredPersons = persons.filter(person => {\r\n        return person.name.toLowerCase().includes(filter.toLowerCase());\r\n    });\r\n\r\n    return filteredPersons.map(person => (\r\n        <Person\r\n            key={person.id}\r\n            name={person.name}\r\n            number={person.number}\r\n            id={person.id}\r\n            handleRemovePerson={handleRemovePerson}\r\n        />\r\n    ));\r\n};\r\n\r\nexport default Persons;\r\n","import React from 'react';\r\n\r\nconst Alert = ({ message, className }) => {\r\n    if (message === null) {\r\n        return null;\r\n    }\r\n\r\n    return <div className={className}>{message}</div>;\r\n};\r\n\r\nexport default Alert;\r\n","import axios from 'axios';\r\n\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n\r\n    return request.then(reponse => reponse.data);\r\n};\r\n\r\nconst create = newPerson => {\r\n    const request = axios.post(baseUrl, newPerson);\r\n\r\n    return request.then(reponse => reponse.data);\r\n};\r\n\r\nconst remove = id => axios.delete(`${baseUrl}/${id}`);\r\n\r\nconst update = (id, updatedPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, updatedPerson);\r\n\r\n    return request.then(response => response.data);\r\n};\r\n\r\nexport { getAll, create, remove, update };\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport Filter from './components/Filter';\r\nimport PersonForm from './components/PersonForm';\r\nimport Persons from './components/Persons';\r\nimport Alert from './components/Alert';\r\n\r\nimport { getAll, create, remove, update } from './services/persons';\r\n\r\nimport './styles/index.css';\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([]);\r\n    const [newName, setNewName] = useState('');\r\n    const [newNumber, setNewNumber] = useState('');\r\n    const [filter, setFilter] = useState('');\r\n    const [success, setSuccess] = useState(null);\r\n    const [error, setError] = useState(null);\r\n\r\n    const addPerson = event => {\r\n        event.preventDefault();\r\n\r\n        const personsArr = persons.map(person => person.name.toLowerCase());\r\n\r\n        if (personsArr.includes(newName.toLowerCase())) {\r\n            const result = window.confirm(\r\n                `${newName} is already on the phonebook. Do you wish to update the number?`\r\n            );\r\n\r\n            if (result) {\r\n                const person = persons.filter(\r\n                    person =>\r\n                        person.name.toLowerCase() === newName.toLowerCase()\r\n                );\r\n\r\n                update(person[0].id, {\r\n                    name: newName,\r\n                    number: newNumber\r\n                })\r\n                    .then(returnedPerson => {\r\n                        setPersons(\r\n                            persons.map(person =>\r\n                                person.id !== returnedPerson.id\r\n                                    ? person\r\n                                    : returnedPerson\r\n                            )\r\n                        );\r\n                    })\r\n                    .catch(error => {\r\n                        setError(\r\n                            `${person[0].name} was already removed from the server!`\r\n                        );\r\n\r\n                        setTimeout(() => {\r\n                            setError(null);\r\n                            getAll().then(persons => {\r\n                                setPersons(persons);\r\n                            });\r\n                        }, 4000);\r\n                    });\r\n            }\r\n        } else {\r\n            const person = {\r\n                // id: uuid(),\r\n                name: newName,\r\n                number: newNumber\r\n            };\r\n\r\n            create(person).then(person => {\r\n                setPersons(persons.concat(person));\r\n            });\r\n\r\n            setSuccess(`${person.name} was added to the Phonebook!`);\r\n\r\n            setTimeout(() => {\r\n                setSuccess(null);\r\n            }, 4000);\r\n        }\r\n\r\n        setNewName('');\r\n        setNewNumber('');\r\n    };\r\n\r\n    const handleRemovePerson = (id, name) => () => {\r\n        const confirm = window.confirm(`Remove ${name} from the phonebook?`);\r\n\r\n        if (confirm) {\r\n            remove(id);\r\n\r\n            setPersons(persons.filter(person => person.id !== id));\r\n        }\r\n    };\r\n\r\n    const handleNameChange = event => {\r\n        setNewName(event.target.value);\r\n    };\r\n\r\n    const handleNumberChange = event => {\r\n        setNewNumber(event.target.value);\r\n    };\r\n\r\n    const handleFilter = event => {\r\n        setFilter(event.target.value);\r\n    };\r\n\r\n    const hook = () => {\r\n        getAll().then(persons => {\r\n            setPersons(persons);\r\n        });\r\n    };\r\n\r\n    useEffect(hook, []);\r\n\r\n    return (\r\n        <div>\r\n            <h1>The Coolest React Phonebook!!!</h1>\r\n            <Filter handleFilter={handleFilter} />\r\n            <div>\r\n                <Alert message={success} className={'success'} />\r\n                <Alert message={error} className={'danger'} />\r\n                <PersonForm\r\n                    handleNameChange={handleNameChange}\r\n                    handleNumberChange={handleNumberChange}\r\n                    newName={newName}\r\n                    newNumber={newNumber}\r\n                    addPerson={addPerson}\r\n                />\r\n                {persons.length > 0 ? (\r\n                    <Persons\r\n                        persons={persons}\r\n                        filter={filter}\r\n                        handleRemovePerson={handleRemovePerson}\r\n                    />\r\n                ) : (\r\n                    <h1>The Phonebook is empty!</h1>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}