(this["webpackJsonpphonebook-v2"]=this["webpackJsonpphonebook-v2"]||[]).push([[0],{14:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),u=t.n(o),c=t(2),l=function(e){var n=e.handleFilter;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{onChange:n,placeholder:"filter"}))},m=function(e){var n=e.handleNameChange,t=e.handleNumberChange,a=e.newName,o=e.newNumber,u=e.addPerson;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Add New Person"),r.a.createElement("form",{onSubmit:u},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"Name: "),r.a.createElement("input",{id:"name",value:a,onChange:n}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"number"},"Number: "),r.a.createElement("input",{id:"number",value:o,onChange:t})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add"))),r.a.createElement("h2",null,"Numbers"))},i=function(e){var n=e.name,t=e.number,a=e.id,o=e.handleRemovePerson;return r.a.createElement("p",null,n,": ",t," ",r.a.createElement("button",{onClick:o(a,n)},"delete"))},s=function(e){var n=e.persons,t=e.filter,a=e.handleRemovePerson;return n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return r.a.createElement(i,{key:e.id,name:e.name,number:e.number,id:e.id,handleRemovePerson:a})}))},d=function(e){var n=e.message,t=e.className;return null===n?null:r.a.createElement("div",{className:t},n)},h=t(3),f=t.n(h),b="/api/persons",v=function(){return f.a.get(b).then((function(e){return e.data}))},E=(t(37),function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],o=n[1],u=Object(a.useState)(""),i=Object(c.a)(u,2),h=i[0],E=i[1],p=Object(a.useState)(""),w=Object(c.a)(p,2),g=w[0],N=w[1],C=Object(a.useState)(""),j=Object(c.a)(C,2),O=j[0],k=j[1],P=Object(a.useState)(null),y=Object(c.a)(P,2),S=y[0],F=y[1],L=Object(a.useState)(null),R=Object(c.a)(L,2),T=R[0],D=R[1];return Object(a.useEffect)((function(){v().then((function(e){o(e)}))}),[]),r.a.createElement("div",null,r.a.createElement("h1",null,"The Coolest React Phonebook!!!"),r.a.createElement(l,{handleFilter:function(e){k(e.target.value)}}),r.a.createElement("div",null,r.a.createElement(d,{message:S,className:"success"}),r.a.createElement(d,{message:T,className:"danger"}),r.a.createElement(m,{handleNameChange:function(e){E(e.target.value)},handleNumberChange:function(e){N(e.target.value)},newName:h,newNumber:g,addPerson:function(e){var n,a,r;if(e.preventDefault(),t.map((function(e){return e.name.toLowerCase()})).includes(h.toLowerCase())){if(window.confirm("".concat(h," is already on the phonebook. Do you wish to update the number?"))){var u=t.filter((function(e){return e.name.toLowerCase()===h.toLowerCase()}));(a=u[0].id,r={name:h,number:g},f.a.put("".concat(b,"/").concat(a),r).then((function(e){return e.data}))).then((function(e){o(t.map((function(n){return n.id!==e.id?n:e})))})).catch((function(e){D("".concat(u[0].name," was already removed from the server!")),setTimeout((function(){D(null),v().then((function(e){o(e)}))}),4e3)}))}}else{var c={name:h,number:g};(n=c,f.a.post(b,n).then((function(e){return e.data}))).then((function(e){o(t.concat(e))})),F("".concat(c.name," was added to the Phonebook!")),setTimeout((function(){F(null)}),4e3)}E(""),N("")}}),t.length>0?r.a.createElement(s,{persons:t,filter:O,handleRemovePerson:function(e,n){return function(){window.confirm("Remove ".concat(n," from the phonebook?"))&&(!function(e){f.a.delete("".concat(b,"/").concat(e))}(e),o(t.filter((function(n){return n.id!==e}))))}}}):r.a.createElement("h1",null,"The Phonebook is empty!")))});u.a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.6316af13.chunk.js.map